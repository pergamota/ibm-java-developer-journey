# Spring Framework

## O que é Spring?

**Spring** é um framework Java que fornece infraestrutura para desenvolver:

- aplicações corporativas
    
- microsserviços
    
- aplicações web
    
- processamento de dados
    

Ele facilita o desenvolvimento ao gerenciar dependências, configuração e integração entre componentes.

---

## Módulos principais do Spring

### Spring Core

Fornece os recursos essenciais do framework:

- Inversão de Controle (IoC)
    
- Injeção de Dependência (DI)
    
- gerenciamento de beans
    

> **Programação Orientada a Aspectos (AOP)** não pertence ao Core diretamente — ela é tratada pelo módulo Spring AOP.

---

### Spring MVC

Framework web que separa:

- lógica de negócio
    
- interface do usuário
    
- processamento de entrada
    

Segue o padrão **Model–View–Controller**.

---

### Spring AOP (Aspect Oriented Programming)

Permite separar **preocupações transversais**, como:

- logs
    
- segurança
    
- transações
    

Isso melhora a manutenção do código.

---

### Spring Security

Fornece autenticação e controle de acesso:

- login seguro
    
- autorização por papéis
    
- proteção contra ataques comuns
    

---

### Spring JDBC

Simplifica o acesso a banco de dados:

- reduz código repetitivo
    
- gerencia conexões e exceções
    

---

### Spring Web Flow

Gerencia fluxos de navegação e estados em aplicações web.

---

### Spring Web Services

Facilita o desenvolvimento de serviços SOAP seguros e interoperáveis.

---

### Spring Batch

Processamento em lote e agendamento de tarefas:

- processamento de grandes volumes de dados
    
- jobs programados
    

---

### Spring REST Docs

Gera documentação automática para APIs REST, mantendo-a sincronizada com o código.

---

### Spring Session

Gerencia sessões de usuários (inclusive distribuídas).

---

### Spring Boot

Simplifica a criação e implantação de aplicações:

- configuração automática
    
- servidor embutido
    
- menos configuração manual
    

---

### Spring CLI

Ferramenta de linha de comando para prototipagem rápida.

---

### Spring Cloud

Ferramentas para sistemas distribuídos:

- configuração centralizada
    
- descoberta de serviços
    
- tolerância a falhas
    

---

### Spring WebFlux

Framework reativo para aplicações assíncronas e alta escalabilidade.

---

### Spring for Apache Kafka

Suporte a sistemas orientados a eventos e streaming de mensagens.

---

### Spring Cloud Gateway

Gateway de API responsável por:

- roteamento
    
- autenticação
    
- filtros de requisição
    

---

# Conceitos Fundamentais do Spring

## Beans

Beans são objetos gerenciados pelo contêiner Spring IoC.

Eles representam os principais componentes da aplicação.

---

## Contexto de Aplicação (ApplicationContext)

Gerencia:

- beans
    
- dependências
    
- ciclo de vida dos componentes
    

Garante que tudo esteja disponível quando necessário.

---

## Inversão de Controle (IoC)

Princípio que transfere ao Spring a responsabilidade de criar e gerenciar objetos.

### Exemplo:

Em vez de criar manualmente um motor para um carro, o Spring fornece o motor automaticamente.

---

## Injeção de Dependência (DI)

Permite que dependências sejam fornecidas automaticamente aos objetos.

### Exemplo:

Se um carro precisa de um motor, o Spring injeta o motor no bean carro.

---

## Autowiring (Fiação automática)

O Spring injeta automaticamente dependências necessárias sem configuração manual.

---

## Componentes

Classes gerenciadas pelo contêiner IoC.

São anotadas com:

`@Component`

Podem representar:

- serviços
    
- repositórios
    
- controladores
    

---

# IntelliJ IDEA

O **IntelliJ IDEA** é um ambiente de desenvolvimento integrado (IDE) criado pela JetBrains.

### Vantagens:

- interface amigável
    
- ferramentas de depuração
    
- terminal embutido
    
- excelente suporte ao Spring
    

---

# Anotações do Spring

As anotações ajudam o Spring a gerenciar componentes e configurações.

---

## Anotações em nível de classe

### @Component

Declara uma classe como bean gerenciado.

`@Component public class BookService { }`

---

### @Controller

Define um controlador web responsável por requisições HTTP.

---

### @Configuration

Indica que a classe define beans.

---

### @SpringBootApplication

Combina:

- configuração
    
- auto-configuração
    
- varredura de componentes
    

---

## Anotações de injeção

### @Autowired

Realiza injeção automática de dependências.

`@Autowired private BookService service;`

---

## Anotações em nível de método

### @Bean

Define um bean dentro de uma classe @Configuration.

```
public BookService bookService() {
    return new BookService();
}    
```

---

## Anotações para APIs e requisições

### @RequestMapping

Mapeia URLs para métodos. É usado para mapear solicitações web para métodos específicos.
### @PostMapping

Processa requisições HTTP POST.

### @PathVariable

Extrai valores da URL.

```
@GetMapping("/books/{id}")
public String getBookById(@PathVariable("id") String id) {
    return id;
}
```

---

### @RequestParam

Obtém parâmetros da requisição.

---

### @ResponseBody

Retorna diretamente o conteúdo no corpo HTTP.

---

### @Scope

Define o ciclo de vida de um bean.

---

## Tipos de uso das anotações

### Nível de classe

Define beans e configurações.

### Nível de método

Define comportamentos e rotas.

### Nível de campo

Injeta dependências automaticamente.

---

# Maven

## O que é?

**Maven** é uma ferramenta de gerenciamento e automação de projetos Java.

Ele ajuda a:

- gerenciar dependências
    
- compilar código
    
- executar testes
    
- empacotar aplicações
    

---

## Arquivo POM (Project Object Model)

O arquivo **pom.xml** contém:

- configurações do projeto
    
- dependências
    
- plug-ins
    
- versões
    

---

## Repositórios

Locais onde o Maven busca bibliotecas.

---

## Ciclo de vida do Maven

1. validar
    
2. compilar
    
3. testar
    
4. empacotar
    
5. verificar
    
6. instalar
    
7. implantar
    

---

## Plugins

Executam tarefas como:

- compilação
    
- geração de documentação
    

---

# Componentes do POM.xml

### Elemento do projeto

Define namespace e estrutura.

### GroupId

Identifica o grupo do projeto.

### ArtifactId

Nome único do projeto.

### Dependencies

Bibliotecas externas utilizadas.

### Repositories

Repositórios adicionais.

### Properties

Variáveis personalizadas.

### Profiles

Configurações para diferentes ambientes.

---

# Estrutura de um Projeto Maven

```
src/main/java        → código-fonte
src/main/resources   → arquivos de configuração
src/test/java        → testes
src/test/resources   → recursos de teste
```

---

# Criando um Projeto Spring

## Etapas:

### 1️⃣ Instalar o JDK

### 2️⃣ Instalar o Maven

### 3️⃣ Criar projeto Maven

Define GroupId e ArtifactId.

---

### 4️⃣ Adicionar dependências no pom.xml

Exemplo:

```
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
```

---

### 5️⃣ Criar classe de configuração

```
@Configuration
public class AppConfig {

    @Bean
    public MessageService messageService() {
        return new MessageService();
    }
}
```

---

### 6️⃣ Criar classe Bean

```
public class MessageService {
    public void message() {
        System.out.println("Aplicação Spring funcionando!");
    }
}
```

---

### 7️⃣ Classe principal

```
public class MainApp {
    public static void main(String[] args) {
        ApplicationContext context =
            new AnnotationConfigApplicationContext(AppConfig.class);

        MessageService service =
            context.getBean(MessageService.class);

        service.message();
    }
}
```


---

### 8️⃣ Compilar e executar

`mvn compile mvn exec:java`

---

# Spring Initializr

O **Spring Initializr** é uma ferramenta que gera automaticamente a estrutura de projetos Spring Boot.

Ele permite:

- escolher dependências
    
- gerar projeto pronto
    
- acelerar o início do desenvolvimento