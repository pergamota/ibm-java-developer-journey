# Spring MVC

O **Spring MVC** √© um m√≥dulo do Spring Framework utilizado para desenvolver aplica√ß√µes web robustas, escal√°veis e organizadas seguindo o padr√£o **MVC (Model‚ÄìView‚ÄìController)**.

√â amplamente utilizado em:

- sistemas financeiros
    
- sistemas de sa√∫de
    
- e-commerces
    
- portais corporativos
    

Ele √© popular porque oferece:

- integra√ß√£o com o ecossistema Spring
    
- seguran√ßa (via Spring Security)
    
- alta escalabilidade
    
- f√°cil integra√ß√£o com bancos de dados e APIs
    

---

# Arquitetura MVC

O padr√£o MVC divide a aplica√ß√£o em tr√™s camadas principais:

---

## Model (Modelo)

√â respons√°vel por:

- armazenar dados
    
- conter regras de neg√≥cio
    
- representar entidades do sistema
    

Analogia: √© como a **cozinha do restaurante**, onde tudo √© preparado.

Exemplo em um sistema de biblioteca:  
O Model armazenaria:

- t√≠tulo do livro
    
- autor
    
- ISBN
    
- pre√ßo
    
- l√≥gica para manipular esses dados
    

Exemplo:

```
public class Book {  
private String title;  
private String author;  
  
public Book(String title, String author) {  
this.title = title;  
this.author = author;  
}  
  
public String getTitle() { return title; }  
public String getAuthor() { return author; }  
}
```

---

## View (Vis√£o)

√â respons√°vel por:

- exibir os dados ao usu√°rio
    
- gerar HTML
    
- apresentar informa√ß√µes no navegador
    

Analogia: √© a **apresenta√ß√£o do prato ao cliente**.

Normalmente composta por:

- HTML
    
- CSS
    
- JavaScript
    
- Templates (como Thymeleaf)
    

---

## Controller (Controlador)

Respons√°vel por:

- receber requisi√ß√µes HTTP
    
- processar dados
    
- chamar o Model
    
- retornar uma View
    

Analogia: √© o **gerente do restaurante**, que coordena clientes e cozinha.

Exemplo:

```
@Controller  
public class BookController {  
  
@GetMapping("/books")  
public String listBooks(Model model) {  
model.addAttribute("book", new Book("Java", "Autor X"));  
return "books";  
	}  
}
```

---

# Fluxo Interno do Spring MVC

## DispatcherServlet

O **DispatcherServlet** √© o cora√ß√£o do Spring MVC.

Ele:

- √© o ponto central de entrada
    
- recebe todas as requisi√ß√µes HTTP
    
- decide para qual Controller enviar
    

Analogia: recep√ß√£o do restaurante.

---

## Handler Mapping

Respons√°vel por:

- mapear URLs para Controllers corretos
    

Exemplo:

/books ‚Üí BookController

---

## Controller Execution

O controller executa:

- l√≥gica
    
- chama servi√ßos
    
- retorna dados ou view
    

---

## ViewResolver

Respons√°vel por:

- identificar qual template deve ser usado
    
- localizar arquivos HTML
    

Exemplo:

"books" ‚Üí templates/books.html

---

## View Rendering

Etapa final:

- dados s√£o inseridos no HTML
    
- resposta √© enviada ao navegador
    

---

# Por que separar em MVC?

‚úî Desenvolvedores trabalham na l√≥gica  
‚úî Designers focam na interface  
‚úî C√≥digo mais organizado  
‚úî F√°cil manuten√ß√£o  
‚úî Melhor escalabilidade

---

# Criando Projeto Spring MVC com Spring Boot

Utilizamos o Spring Boot para facilitar a configura√ß√£o.

## 1Ô∏è‚É£ Criar projeto

Acesse:

üîó start.spring.io

Adicione depend√™ncias:

- Spring Web
    
- Thymeleaf
    
- Spring Boot DevTools
    

---

## 2Ô∏è‚É£ Configurar application.properties

Caminho:

src/main/resources/application.properties

Exemplo:

server.port=8080

---

# Estrutura do Projeto MVC

---

## Model Layer

Criar:

src/main/java/com/example/model/Employee.java

```
public class Employee {  
private String name;  
private String position;  
  
public Employee(String name, String position) {  
this.name = name;  
this.position = position;  
}  
  
public String getName() { return name; }  
public String getPosition() { return position; }  
}
```

---

## Controller Layer

Criar:

src/main/java/com/example/controller/EmployeeController.java

```
@Controller  
@RequestMapping("/employees")  
public class EmployeeController {  
  
private List<Employee> employees = new ArrayList<>();  
  
@GetMapping  
public String listEmployees(Model model) {  
model.addAttribute("employees", employees);  
return "employees";  
}  
}
```

---

## View Layer

Local:

src/main/resources/templates/employees.html

Exemplo b√°sico com Thymeleaf:

```
<table>  
    <tr>  
        <th>Nome</th>  
        <th>Cargo</th>  
    </tr>  
    <tr th:each="emp : ${employees}">  
        <td th:text="${emp.name}"></td>  
        <td th:text="${emp.position}"></td>  
    </tr>  
</table>
```

---

## Classe Principal

src/main/java/com/example/EmployeeManagementApplication.java

@SpringBootApplication  
public class EmployeeManagementApplication {  
    public static void main(String[] args) {  
        SpringApplication.run(EmployeeManagementApplication.class, args);  
    }  
}

---

# Thymeleaf

O Thymeleaf √© um mecanismo de template que permite gerar HTML din√¢mico no servidor.

Vantagens:

- Integra√ß√£o total com Spring
    
- Sintaxe simples
    
- F√°cil manuten√ß√£o
    
- HTML v√°lido mesmo fora do servidor
    

---

## Etapas para usar Thymeleaf

1. Criar projeto no Spring Initializr
    
2. Adicionar depend√™ncia Thymeleaf no pom.xml
    
3. Criar arquivos em:
    

src/main/resources/templates

Exemplo:

books.html

4. Criar Controller que envie dados para a View
    
5. Criar classe Model (Book)
    
6. Executar aplica√ß√£o
    

Acessar:

http://localhost:8080/books

---

# Observa√ß√µes Importantes

‚úî O Spring Boot j√° configura automaticamente o DispatcherServlet  
‚úî O ViewResolver tamb√©m √© configurado automaticamente  
‚úî Thymeleaf funciona melhor quando usado com Model para enviar dados  
‚úî Para aplica√ß√µes REST (sem p√°ginas HTML), usamos @RestController  
‚úî MVC tradicional retorna p√°ginas  
‚úî REST retorna JSON

---

# Diferen√ßa Importante

| Spring MVC tradicional | API REST         |
| ---------------------- | ---------------- |
| Retorna HTML           | Retorna JSON     |
| Usa ViewResolver       | N√£o usa View     |
| Usa Thymeleaf          | Usa ResponseBody |
